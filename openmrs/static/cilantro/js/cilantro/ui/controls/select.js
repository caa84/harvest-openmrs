var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var o in e)__hasProp.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},__indexOf=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};define(["underscore","backbone","marionette","../../core","./base"],function(t,e,n,o,r){var i,u,c;return u=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.template=function(){},e.prototype.tagName="option",e.prototype.modelEvents=function(){return{"change:selected":"render"}},e.prototype.onRender=function(){return this.$el.text(this.model.get("label")),this.$el.attr("value",this.model.get("value")),this.$el.attr("selected",this.model.get("selected"))},e}(n.ItemView),c=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.className="selection-list",n.prototype.itemView=u,n.prototype.itemViewOptions=function(t){return{model:t}},n.prototype.itemViewContainer=".items",n.prototype.template="controls/select/list",n.prototype.ui={items:".items"},n.prototype.events={"change .items":"onSelectionChange"},n.prototype.collectionEvents={reset:"onCollectionSync"},n.prototype.initialize=function(){var t;return this.wait(),this.collection||(this.collection=new e.Collection,t=o.isSupported("2.3.1")?0:1e3,this.model.values({limit:t}).done(function(t){return function(e){return t.collection.reset(e.values),t.ready()}}(this))),this.on("ready",function(){return this.change()})},n.prototype.onCollectionSync=function(){return this.render()},n.prototype.onSelectionChange=function(){return this.change()},n.prototype.getField=function(){return this.model.id},n.prototype.getOperator=function(){return"exact"},n.prototype.getValue=function(){return this.ui.items.val()},n.prototype.setValue=function(t){return this.ui.items.val(t)},n}(r.ControlCompositeView),i=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.onCollectionSync=function(){return this.render()},n.prototype.onSelectionChange=function(){return this.ui.items.children().each(function(t){return function(e,n){return t.collection.models[e].set("selected",n.selected)}}(this)),this.change()},n.prototype.onRender=function(){return this.ui.items.attr("multiple",!0)},n.prototype.getOperator=function(){return"in"},n.prototype.getValue=function(){return t.map(this.collection.where({selected:!0}),function(t){return t.get("value")})},n.prototype.setValue=function(t){return null==t&&(t=[]),this.collection.each(function(e){var n;return e.set("selected",(n=e.get("value"),__indexOf.call(t,n)>=0))})},n}(c),{SingleSelectionList:c,MultiSelectionList:i}});
//# sourceMappingURL=select.js.map