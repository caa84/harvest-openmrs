var __hasProp={}.hasOwnProperty,__extends=function(t,s){function n(){this.constructor=t}for(var e in s)__hasProp.call(s,e)&&(t[e]=s[e]);return n.prototype=s.prototype,t.prototype=new n,t.__super__=s.prototype,t};define(["backbone"],function(t){var s,n,e,r,i;return n=function(t){function s(t,n){this.links={},s.__super__.constructor.call(this,t,n),this.on("change:_links",function(t,s){return this._parseLinks(s)})}return __extends(s,t),s.prototype.url=function(){return this.isNew()?s.__super__.url.apply(this,arguments):this.links.self},s.prototype._parseLinks=function(t){var s,n,e;n={};for(e in t)s=t[e],n[e]=s.href;return this.links=n},s.prototype.parse=function(t){return null!=(null!=t?t._links:void 0)&&this._parseLinks(t._links),t},s}(t.Model),s=function(t){function s(t,n){this.links={},s.__super__.constructor.call(this,t,n)}return __extends(s,t),s.prototype.model=n,s.prototype.url=function(){return this.links.self},s.prototype._parseLinks=function(t){var s,n,e;n={};for(e in t)s=t[e],n[e]=s.href;return this.links=n},s.prototype.parse=function(t){return null!=(null!=t?t._links:void 0)&&this._parseLinks(t._links),t},s}(t.Collection),i=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return __extends(s,t),s.prototype.sync=function(){},s}(n),r=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return __extends(s,t),s.prototype.sync=function(){},s}(s),e=function(s){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,s),n.prototype.initialize=function(){return this.add({session:!0}),this.session=this.get("session")},n.prototype._resetSession=function(){return this.session.clear({silent:!0}),this.session.set("session",!0,{silent:!0})},n.prototype.reset=function(t,s){var n,e,r,i;for(null==s&&(s={}),i=this.models,e=0,r=i.length;r>e;e++)n=i[e],n===this.session?this._resetSession():this._removeReference(n);return s.previousModels=this.models,this._reset(),this.add(this.session,_.extend({silent:!0},s)),(n=_.findWhere(t,{session:!0}))&&this.session.set(n,s),this.add(t,_.extend({silent:!0,merge:!0},s)),s.silent||this.trigger("reset",this,s),this},n.prototype.get=function(s){var e;return e=!1,s instanceof t.Model&&(e=s.get("session")),("session"===s||"object"==typeof s&&s.session)&&(e=!0),e?this.findWhere({session:!0}):n.__super__.get.call(this,s)},n.prototype.getSession=function(){return this.session},n}(s),{Model:n,Collection:s,SynclessModel:i,SynclessCollection:r,SessionCollection:e}});
//# sourceMappingURL=base.js.map